I"¹><h2 id="add-categories-to-the-posts">Add categories to the posts</h2>
<p>Categories and tags are basically the same thing, just by different names. They are gathered, handled, and called using the same methods. The below (tested) code was adapted from the <a href="Jekyll%20tag%20page.md">Jekyll tag page</a> - in fact, the only real change here is that I changed <code class="language-plaintext highlighter-rouge">tag</code> for <code class="language-plaintext highlighter-rouge">category</code> and <code class="language-plaintext highlighter-rouge">tags</code> for <code class="language-plaintext highlighter-rouge">categories</code>. It otherwise remains virtually untouched.</p>

<p>Add categories to the post(s) by including them in the postâ€™s frontmatter. One category can be added using <code class="language-plaintext highlighter-rouge">category:</code> or multiple using <code class="language-plaintext highlighter-rouge">categories:</code><sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup> . Separate each category with a single space. It is recommended to use lowercase letters in category names only, and a single word only. If a two-word category is necessary, be sure to put the categories in quotations.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">categories: single category new</code> - three categories named, â€œsingleâ€ and â€œcategoryâ€ and â€œnewâ€</li>
  <li><code class="language-plaintext highlighter-rouge">categories: ["single category", new]</code> - two categories named, â€œsingle categoryâ€ and â€œnewâ€ - anything non-standard (single words separated by a single space) needs to be shown as an array: in square brackets, and comma-separated.</li>
</ul>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
layout: post
title: The best blog post title
subtitle: An even better subtitle
date: 2021-02-15 08:24:38 -0500
tags: [tag1, tag2, tag3]
categories: [cat1, cat2, cat3]
---
</code></pre></div></div>

<h2 id="build-the-list-of-tags">Build the list of tags</h2>
<p>Now we need to create the list of categories on the site:
Add a file to the <code class="language-plaintext highlighter-rouge">_includes</code> folder called <code class="language-plaintext highlighter-rouge">collectcategories.html</code> with the following:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% assign rawcategories = "" %}
{% for post in site.posts %}
  {% assign tcategories = post.categories | join:'|' | append:'|' %}
  {% assign rawcategories = rawcategories | append:tcategories %}
{% endfor %}
{% assign rawcategories = rawcategories | split:'|' | sort %}

{% assign site.categories = "" %}
{% for tag in rawcategories %}
  {% if category != "" %}
    {% if categories == "" %}
      {% assign categories = category | split:'|' %}
    {% endif %}
    {% unless categories contains category %}
      {% assign categories = categories | join:'|' | append:'|' | append:category | split:'|' %}
    {% endunless %}
  {% endif %}
{% endfor %}

</code></pre></div></div>

<p>This creates a list called <code class="language-plaintext highlighter-rouge">site.categories</code></p>

<p>Now we need to â€˜executeâ€™ the building of the list. Since it needs to happen <em>before</em> we can use the list, include it in the head.html file (inside the head section).^[This insures the list will be built when the page is loaded]</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% if site.categories != "" %}
  {% include collectcategories.html %}
{% endif %}

</code></pre></div></div>

<h2 id="displaying-categories-on-the-post">Displaying categories on the post</h2>
<p>In the _includes folder, make a file named <code class="language-plaintext highlighter-rouge">categoryline.html</code> with the following content:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="nx">Categories</span><span class="p">:</span>
	<span class="p">{</span><span class="o">%</span><span class="err">Â </span><span class="k">for</span><span class="err">Â </span><span class="nx">category</span><span class="err">Â </span><span class="k">in</span><span class="err">Â </span><span class="nx">page</span><span class="p">.</span><span class="nx">categories</span><span class="err">Â </span><span class="o">%</span><span class="p">}</span>
		<span class="p">{</span><span class="o">%</span><span class="err">Â </span><span class="nx">capture</span><span class="err">Â </span><span class="nx">category_name</span><span class="err">Â </span><span class="o">%</span><span class="p">}{{</span><span class="err">Â </span><span class="nx">category</span><span class="err">Â </span><span class="p">}}{</span><span class="o">%</span><span class="err">Â </span><span class="nx">endcapture</span><span class="err">Â </span><span class="o">%</span><span class="p">}</span>
	<span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">{{Â site.baseurlÂ }}/category/{{Â category</span><span class="se">\</span><span class="s2">_nameÂ }}</span><span class="dl">"</span><span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">postCategories</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">nobr</span><span class="o">&gt;</span>
		<span class="p">{{</span><span class="err">Â </span><span class="nx">category_name</span><span class="err">Â </span><span class="p">}}</span><span class="o">&lt;</span><span class="sr">/nobr&gt;&lt;/</span><span class="nx">a</span><span class="o">&gt;&amp;</span><span class="nx">nbsp</span><span class="p">;</span>
	<span class="p">{</span><span class="o">%</span><span class="err">Â </span><span class="nx">endfor</span><span class="err">Â </span><span class="o">%</span><span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>
</code></pre></div></div>
<p>Note that this also makes each displayed category into a link, at <code class="language-plaintext highlighter-rouge">/category/category_name</code></p>

<p>Put the following in the post template, in the location you wish the categories to be displayed:
<code class="language-plaintext highlighter-rouge">{%Â includeÂ categoryline.htmlÂ %}</code></p>

<p>Note: the links will be displayed identical to the rest of the links on the site. The class <code class="language-plaintext highlighter-rouge">postCategories</code> can be altered to style these links as desired.</p>

<h2 id="make-the-pages-for-category-posts">Make the pages for category posts</h2>
<p>We need to create the pages these links point to. These need to be done manually each time a category is added. There are automatic scripts for this, but they require a little bit of programming skill.^[I donâ€™t have that skill, but <a href="https://github.com/qian256/qian256.github.io/blob/master/tag_generator.py">here</a> is one example - there are many online]</p>

<p>First, create the layout for each category page. In the _layouts folder, create categorypage.html with the following content:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">---</span>
<span class="nx">layout</span><span class="p">:</span><span class="err">Â </span><span class="k">default</span>
<span class="o">---</span>

<span class="o">&lt;</span><span class="nx">header</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">postHeader</span><span class="dl">"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">container</span><span class="dl">"</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">row</span><span class="dl">"</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">col-lg-8Â col-md-10Â mx-auto</span><span class="dl">"</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Tag</span><span class="p">:</span><span class="err">Â </span><span class="p">{{</span><span class="err">Â </span><span class="nx">page</span><span class="p">.</span><span class="nx">category</span><span class="err">Â </span><span class="p">}}</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>				<span class="p">{{</span><span class="err">Â </span><span class="nx">content</span><span class="err">Â </span><span class="p">}}</span>
				<span class="o">&lt;</span><span class="nx">hr</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>		<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>	<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/header</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">container</span><span class="dl">"</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">row</span><span class="dl">"</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="nx">div</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">col-lg-8Â col-md-10Â mx-auto</span><span class="dl">"</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
				<span class="p">{</span><span class="o">%</span><span class="err">Â </span><span class="k">for</span><span class="err">Â </span><span class="nx">post</span><span class="err">Â </span><span class="k">in</span><span class="err">Â </span><span class="nx">site</span><span class="p">.</span><span class="nx">categories</span><span class="p">[</span><span class="nx">page</span><span class="p">.</span><span class="nx">category</span><span class="p">]</span><span class="err">Â </span><span class="o">%</span><span class="p">}</span>
					<span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="dl">"</span><span class="s2">{{Â post.urlÂ |Â prepend:site.baseurlÂ }}</span><span class="dl">"</span><span class="o">&gt;</span><span class="p">{{</span><span class="err">Â </span><span class="nx">post</span><span class="p">.</span><span class="nx">title</span><span class="err">Â </span><span class="p">}}</span><span class="o">&lt;</span><span class="sr">/a&gt;{{Â post.dateÂ |Â date_to_stringÂ }}</span><span class="se">)</span><span class="sr">&lt;br</span><span class="err">&gt;
</span>						<span class="p">{{</span><span class="err">Â </span><span class="nx">post</span><span class="p">.</span><span class="nx">description</span><span class="err">Â </span><span class="p">}}</span>
					<span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>				<span class="p">{</span><span class="o">%</span><span class="err">Â </span><span class="nx">endfor</span><span class="err">Â </span><span class="o">%</span><span class="p">}</span>
			<span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>		<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>	<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
</code></pre></div></div>

<p>This layout can now be used on each â€˜category pageâ€™ - that is, each category needs a page to display its contents. Use like so:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
---
layout: categorypage
title: "TagÂ pageÂ forÂ CATEGORYNAME"
tag: CATEGORYNAME
---

TheseÂ areÂ postsÂ thatÂ areÂ taggedÂ withÂ the **{{Â page.categoryÂ }}** tag.

&lt;!--
$$Â RemoveÂ (orÂ doÂ notÂ copy)Â thisÂ andÂ everythingÂ belowÂ it.
$$Â ReplaceÂ CATEGORYNAMEÂ withÂ theÂ nameÂ ofÂ theÂ newÂ categoryÂ inÂ bothÂ placesÂ ofÂ theÂ frontmatter.Â NoÂ otherÂ changesÂ areÂ necessary.
$$Â NewÂ fileÂ nameÂ shouldÂ matchÂ theÂ categoryname.md
\--&gt;

</code></pre></div></div>
<p>Change the CATEGORYNAME in both places to the tag. Each tag needs its own file, placed in a folder (in the root) named <code class="language-plaintext highlighter-rouge">category</code>. Feel free to change the content as desired.</p>

<h2 id="one-page-that-lists-all-categories-with-a-list-of-their-posts">One page that lists all categories with a list of their posts</h2>
<p>In the root folder, create a page called <code class="language-plaintext highlighter-rouge">categories.html</code> with the following content:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
---
layout:Â page
title:Â SiteÂ categories
---

&lt;h1&gt;CategoriesÂ usedÂ onÂ thisÂ site&lt;/h1&gt;
&lt;hr/&gt;
{%Â forÂ categoryÂ inÂ site.categoriesÂ %}
	&lt;h3&gt;&lt;a href="{{Â site.urlÂ }}/Blog/category/{{Â category[0]Â }}" style="color:#bbbbbb;"&gt;{{Â category[0]Â }}&lt;/a&gt;&lt;/h3&gt;
	&lt;ul&gt;
		{%Â forÂ postÂ inÂ category[1]Â %}
				&lt;li&gt;&lt;a href="{{Â post.urlÂ |Â prepend:site.baseurlÂ }}"&gt;{{Â post.titleÂ }}
			&lt;/a&gt;&lt;/li&gt;
		{%Â endforÂ %}
	&lt;/ul&gt;
{%Â endforÂ %}

</code></pre></div></div>

<h2 id="create-a-list-of-all-categories-on-the-site">Create a list of all categories on the site</h2>
<p>Create a list of categories used on the site (without the list of associated posts). Each category will link to its categories page.</p>

<p>Add a file to the _includes folder called <code class="language-plaintext highlighter-rouge">categoryArchive.html</code> with the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{%Â captureÂ tempcategoriesÂ %}
	{%Â forÂ categoryÂ inÂ site.categoriesÂ %}
		{{Â category\[1\].sizeÂ |Â plus:Â 1000Â }}#{{Â category\[0\]Â }}#{{Â category\[1\].sizeÂ }}
	{%Â endforÂ %}
{%Â endcaptureÂ %}
{%Â assignÂ sortedtempcategoriesÂ =Â tempcategoriesÂ |Â split:'Â 'Â |Â sortÂ |Â reverseÂ %}
{%Â forÂ tempcategoryÂ inÂ sortedtempcategoriesÂ %}
	{%Â assignÂ categoryitemsÂ =Â tempcategoryÂ |Â split:Â '#'Â %}
	{%Â captureÂ categorynameÂ %}{{Â categoryitems\[1\]Â }}{%Â endcaptureÂ %}
	&lt;a href\="{{Â siteurlÂ |Â prepend:site.baseurlÂ }}/category/{{Â categorynameÂ }}" class\="postCategories"\&gt;&lt;nobr\&gt;{{Â categorynameÂ }}&lt;/nobr\&gt;&lt;/a\&gt;&amp;nbsp;
{%Â endforÂ %}

</code></pre></div></div>

<p>Place it in a page or post^[I put this at the top or bottom of my categories.html page from the previous section]</p>

<p><code class="language-plaintext highlighter-rouge">{%Â includeÂ categoryArchive.htmlÂ %}</code></p>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>I use â€˜tagsâ€™ all the time, since it works for singular and plural categories both. If I never use the singular, I donâ€™t have to remember to change itÂ <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
:ET